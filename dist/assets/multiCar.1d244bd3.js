import{l as k,i as r,a as p}from"./data.a8b57001.js";import{_ as N}from"./index.91cd3f06.js";import{d as O,g as f,r as _,a as c,o as M,c as y,y as g,A as C,z as t,e as u,w as I,F as U,B as $,C as q}from"./vendor.279667cf.js";const G={class:"multiCar"},H=g("\u6DFB\u52A0\u4E00\u8F86\u8F66"),J=O({setup(K){const m=f({}),e=f([]);let l=_();const d=f({position:[],content:""}),i=f({position:[],icon:"",id:null}),b=[{point:[111.497428,39.20923],icon:p},{point:[116.497428,21.20923],icon:r},{point:[113.597428,36.20923],icon:p},{point:[124.697428,29.280923],icon:r},{point:[125.397428,37.20923],icon:p}],w=_([{}]);setTimeout(()=>{console.log("settimg"),w.value=b},8e3);const D=o=>{o&&(m[o.id]=o)},x=_();function E(){let o=Math.floor(Math.random()*1e4)+"",n=Math.floor(Math.random()*30);e.push({id:o,position:k[n],icon:"null",remove:!1}),B({id:o,lnglat:k[n]})}let v=!1;function B(o){console.log("\u70B9\u51FB\u4E86marker",o.id),e.map(n=>{n.id==o.id?n.icon="null":n.icon=r}),l.value=o.id,d.content=`<div><h1>${o.id+"\u53F7 \uFF1A "+o.lnglat}</h1></div>`,d.position=o.lnglat,i.id=o.id,i.position=o.lnglat,i.icon=r,v=!0}function P(o){}const a=_("");function T(){m[a.value].removeMarker(),delete m[a.value],e.map((o,n)=>{a.value==o.id&&e.splice(n,1)}),a.value==l.value&&(x.value.close(),l.value=null)}function V(){v=!1,console.log("\u5173\u95ED\u4E86")}function j(o){v&&(d.position=o)}var h=!0;return setInterval(()=>{!e.length||e.map(o=>{let n=Math.floor(Math.random()*30);o.position=k[n],o.id==l.value?(i.position=o.position,i.icon=h?r:p,h=!h,o.icon=null):o.icon=r})},5e3),(o,n)=>{const A=c("Marker"),S=c("PathSimplifierIns"),L=c("InfoWindow"),W=c("Map"),F=c("el-button"),z=c("el-input");return M(),y("div",G,[g(" multiCar "+C(t(l))+" carList:"+C(t(e).length)+" ",1),u(W,{zoom:3,ref:"MAP",id:"multiCar"},{default:I(()=>[(M(!0),y(U,null,$(t(e),s=>(M(),q(A,{id:s.id,key:s.id,ref_for:!0,ref:D,position:s.position,Icon:s.icon,usemoveTransform:!0,onClick:B,onMoving:P},null,8,["id","position","Icon"]))),128)),u(S,{id:t(l),position:t(i).position,icon:t(i).icon,model:"realTime",onMoveing:j},null,8,["id","position","icon"]),u(L,{position:t(d).position,content:t(d).content,ref_key:"infoBoxref",ref:x,onClose:V},null,8,["position","content"])]),_:1},512),u(F,{onClick:E},{default:I(()=>[H]),_:1}),u(F,{onClick:T},{default:I(()=>[g("\u5220\u9664"+C(a.value)+"\u53F7",1)]),_:1}),u(z,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=s=>a.value=s)},null,8,["modelValue"])])}}});var Y=N(J,[["__scopeId","data-v-87a5967e"]]);export{Y as default};
