var x=Object.defineProperty;var T=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var D=(e,o,a)=>o in e?x(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,P=(e,o)=>{for(var a in o||(o={}))z.call(o,a)&&D(e,a,o[a]);if(T)for(var a of T(o))V.call(o,a)&&D(e,a,o[a]);return e};import{d as B,r as E,u as $,a as k,o as H,c as U,b as M,w as q,e as J,p as K,h as w,i as y,f as v,n as G,g as L,j as Q,k as X,l as Y,m as Z}from"./vendor.a3c58489.js";const ee=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}};ee();const te="modulepreload",O={},ne="/",_=function(o,a){return!a||a.length===0?o():Promise.all(a.map(r=>{if(r=`${ne}${r}`,r in O)return;O[r]=!0;const t=r.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const i=document.createElement("link");if(i.rel=t?"stylesheet":te,t||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),t)return new Promise((l,s)=>{i.addEventListener("load",l),i.addEventListener("error",s)})})).then(()=>o())};const oe=B({setup(e){const o=E("/multiCar"),a=$();function r(t){a.push(o.value)}return(t,n)=>{const i=k("el-tab-pane"),l=k("el-tabs"),s=k("router-view");return H(),U("div",null,[M(l,{onTabClick:r,modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=f=>o.value=f)},{default:q(()=>[M(i,{label:"multiCar",name:"multiCar"}),M(i,{label:"history2",name:"history2"}),M(i,{label:"history",name:"history"}),M(i,{label:"fenceManage",name:"fenceManage"})]),_:1},8,["modelValue"]),M(s)])}}}),ie=function(e,o){return window[e]?window[e]._preloader?window[e]._preloader:Promise.resolve(window[e]):(window[e]={},window[e]._preloader=new Promise(function(a,r){window._initMap=function(){a(window[e]),window[e]._preloader=null,window._initMap=null};var t=document.createElement("script");t.type="text/javascript",window.document.body.appendChild(t),t.src=o+"&callback=_initMap"}),window[e]._preloader)},ae=function(e,o){return window[e]?window[e]._preloader?window[e]._preloader:Promise.resolve(window[e]):(window[e]={},window[e]._preloader=new Promise((a,r)=>{const t=document.createElement("script");t.src=o,window.document.body.appendChild(t),t.onload=function(){a(window[e]),window[e]._preloader=null}}),window[e]._preloader)};var re={name:"Map",props:{name:{type:String,default(){return"AMap"}},zoom:{type:Number,default(){return 13}},center:{type:Array,default(){return[116.397428,39.90923]}},viewMode:{type:String,default:"2D"},id:{type:String,default:"MapDom"}},setup(e,o){const a=J({map:{},isReady:!1});K("storeData",a),r();function r(){let n="";switch(e.name){case"AMap":n="https://webapi.amap.com/maps?v=2.1Beta&key=966a1cec27bf619fc0b3d8683e8f4c01&plugin=AMap.MarkerCluster";break}ie(e.name,n).then(i=>{t(i)})}function t(n){a.map=new n.Map(e.id,{zoom:e.zoom,center:e.center,viewMode:e.viewMode}),a.isReady=!0}return()=>w("div",{class:"Map",id:e.id,style:{height:"500px"}},w("div",{},a.isReady&&o.slots.default?o.slots.default():""))}},le={name:"Marker",props:{position:{type:Array,default(){return[]}},size:{type:Array,default(){return[32,32]}},id:null,Icon:{type:String||null,default:null},usemoveTransform:{type:Boolean,default(){return!1}}},emits:["click","moving"],setup(e,o){const a=y("storeData"),{map:r}=a;let t=null;n(),v(()=>e.position,i,{immediate:!0,deep:!0}),v(()=>e.Icon,l,{immediate:!0,deep:!0});function n(){!e.position.length||(console.log(e.size,"initMakrt"),t=new window.AMap.Marker({map:r,position:e.position,icon:e.Icon,size:new window.AMap.Size(e.size[0],e.size[1])}),t.id=e.id,t.on("click",h),t.on("moving",c))}function i(m){if(!t)return n();if(m.length)s(m);else return f()}function l(m,d){!t||m!=d&&t.setIcon(m)}function s(m,d=1e3){console.log(m,"setPosition"),e.usemoveTransform?t.moveTo(m,{duration:d,delay:500}):t.setPosition(m)}function f(){console.log("removeMarker"),t&&(t.off("click",h),t.off("moving",c),r.remove(t),t=null)}function h(m){o.emit("click",{id:e.id,lnglat:e.position})}function c(m){o.emit("moving",{id:e.id,lnglat:m.target._position})}return G(()=>{}),{removeMarker:f,myMarker:t}},render(){return()=>w("div",{class:"Marker"},"Marker")}},se={name:"Liner",props:{path:{type:Array,default(){return[]}},options:{type:Object,default(){return{borderWeight:2,strokeColor:"#28F"}}}},setup(e){const o=y("storeData");console.log(o,"storeData");const{map:a}=o;var r=null;t(),v(()=>e.path,n,{immediate:!0,deep:!0});function t(){r=new window.AMap.Polyline(P({map:a},e.options)),r.on("click",l)}function n(s){s.length&&i()}function i(){r.setPath(e.path)}function l(s,f){console.log(s,f,"val,e")}return()=>w("div",{class:"Liner"},"Liner")}},ue={name:"InfoWindow",props:{position:{type:Array,default(){return[]}},content:null},emits:["close"],setup(e,o){const a=y("storeData"),{map:r}=a;let t=null;n(),L(()=>{console.log("InfoWindow")}),v(()=>e.position,h,{immediate:!0,deep:!0}),v(()=>e.content,m,{immediate:!0,deep:!0});function n(){t=new window.AMap.InfoWindow({offset:new window.AMap.Pixel(0,-30),autoMove:!0}),t.id=e.id,t.on("close",l)}function i(){s(),t.open(r,e.position)}function l(){e.position.length?o.emit("close"):console.log("\u624B\u52A8\u8C03\u7528")}function s(){t.setContent(e.content)}function f(d){s(),t.setPosition(d)}function h(d){t&&d.length&&(t.getIsOpen()?f(d):i())}function c(){t.close()}function m(d){t.setContent(d)}return{close:c}},render(){return()=>w("div",{class:"InfoWindow"},"InfoWindow")}},ce={name:"MouseTool",props:{type:{type:String,default:"marker"}},emits:["draw"],setup(e,o){const a=y("storeData"),{map:r}=a;var t=E(),n=[];r.plugin(["AMap.MouseTool"],function(){i()}),v(()=>e.type,h,{immediate:!0,deep:!0});function i(){t.value=new window.AMap.MouseTool(r)}function l(c){console.log(e.type,c),n.push(c.obj),o.emit("draw",{obj:c.obj,overlays:n})}function s(){r.remove(n)}function f(c=!0){t.value.close(c)}function h(c){console.log(c,"watchType"),c&&c!=t.value&&(t.value[c](),t.value.on("draw",l))}return{remove:s,close:f}},render(){return()=>w("div",{class:"MouseTool"},"MouseTool")}},de={name:"PathSimplifierIns",props:{model:{type:String,default(){return"realTime"}},icon:{type:String||null,default:""},id:null,position:{type:Array,default(){return[]}}},emits:["moveing","pointClick"],setup(e,o){const a=y("storeData");console.log(a,"storeData");const{map:r}=a;var t=null,n=null;const i={lineWidth:0,fillStyle:null,strokeStyle:null,borderStyle:null};var l=null,s=[{name:"\u52A8\u6001\u8DEF\u7EBF",path:[[]]}],f=0;ae("AMapUI","https://webapi.amap.com/ui/1.1/main.js?v=1.1.1").then(u=>{h(u)}),L(()=>{}),v(()=>e.id,N,{immediate:!0,deep:!0}),v(()=>e.position,F,{immediate:!0,deep:!0});function h(u){u.load(["ui/misc/PathSimplifier"],function(p){if(!p.supportCanvas){alert("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301 Canvas\uFF01");return}n=p,c()})}function c(){t=new n({zIndex:100,autoSetFitView:!1,map:r,pathNavigatorStyle:{width:32,height:32,content:n.Render.Canvas.getImageContent(e.icon)},getPath:function(u){return u.path},getHoverTitle:function(u){return u.name+"\uFF0C\u70B9\u6570\u91CF"+u.path.length},renderOptions:e.model=="realTime"?{pathLineStyle:i,pathLineSelectedStyle:i,pathLineHoverStyle:i,keyPointStyle:i,startPointStyle:i,endPointStyle:i,keyPointHoverStyle:i,keyPointOnSelectedPathLineStyle:i}:{}})}function m(){s[0].path[0]=e.position,t.setData(s),l=t.createPathNavigator(0,{speed:1e6,loop:!1,pathNavigatorStyle:{width:32,height:32,content:n.Render.Canvas.getImageContent(e.icon)}}),l.start()}function d(){let u=[];if(e.position[0].point&&(u=e.position.map(p=>p.point)),e.position[0].length&&(u=e.position),console.log(u,"historyStart"),u[0]){let p=e.position[0].icon||e.icon;console.log(e.position,"historyStart"),s[0].path=u,t.setData(s),l=t.createPathNavigator(0,{loop:!1,speed:1e6,pathNavigatorStyle:{width:32,height:32,content:n.Render.Canvas.getImageContent(p)},getPath:function(g){return g.path}}),l.start(),l.on("move",I),t.off("pathClick pointClick",R)}}function A(u){if(u.length){var p=l.getCursor().clone(),g=l.getNaviStatus();s[0].path[0].length?s[0].path.push(u):s[0].path[0]=u,t.setData(s),l=t.createPathNavigator(0,{speed:1e6,pathNavigatorStyle:{width:32,height:32,content:n.Render.Canvas.getImageContent(e.icon)}}),l.on("move",I),g!=="stop"&&l.start(),p.idx>=0&&l.moveToPoint(p.idx,p.tail)}}function I(u,p){let g=p.dataItem.pointIndex,b=l.getPosition();if(o.emit("moveing",[b.lng,b.lat]),e.model!="realTime"){if(!e.position[f].icon)return;if(f!=g){f=g;let W=l.getStyleOptions();W.content=n.Render.Canvas.getImageContent(e.position[f].icon),t.renderLater(200)}}}function R(u,p){o.emit("pointClick",u,p)}function F(u){!u[0]||S(u)}function S(u){t?e.model=="realTime"?l?A(u):m():d():setTimeout(()=>{e.model=="realTime"?S(u):S(null)},200)}function N(u,p){!p||(l&&l.destroy(),l=null,e.model=="realTime"&&u&&(s[0].path=[e.position],c()))}return()=>w("div",{class:"PathSimplifierIns"},"PathSimplifierIns")}},fe={name:"MoveAnimation",props:{lineArr:{type:Array,default(){return[]}}},setup(e,o){const a=y("storeData"),{map:r}=a;var t=null;v(()=>e.lineArr,n,{immediate:!0,deep:!0});function n(c){c[0]&&i()}function i(){console.log(e.lineArr[0],"props.lineArr"),window.AMap.plugin("AMap.MoveAnimation",function(){t=new window.AMap.Marker({map:r,position:e.lineArr[0],icon:"https://a.amap.com/jsapi_demos/static/demo-center-v2/car.png"});let c=new window.AMap.Polyline({map:r,strokeColor:"#AF5",strokeWeight:6});t.on("moving",function(m){c.setPath(m.passedPath)}),r.setFitView()})}function l(){t.moveAlong(e.lineArr,{duration:500,autoRotation:!0})}function s(){t.pauseMove()}function f(){t.resumeMove()}function h(){t.stopMove()}return{startAnimation:l,pauseAnimation:s,resumeAnimation:f,stopAnimation:h}},render(){return()=>w("div",{class:"MoveAnimation"},"MoveAnimation")}},me={name:"EditPlugin",props:{type:{type:String,default:""},edit:{type:Boolean,default:!1},overlayOptions:{type:Object,default(){return{}}}},emits:["end"],setup(e,o){const a=y("storeData"),{map:r}=a;var t="",n=null,i=null;v(()=>e.edit,h,{immediate:!0,deep:!0}),v(()=>e.type,c,{immediate:!0,deep:!0});function l(){console.log(t,"createOverlayeditType Circle");let d={};e.type=="rectangle"&&(d.bounds=new window.AMap.Bounds(e.overlayOptions.southWest,e.overlayOptions.northEast)),n=new window.AMap[t](P(P({},e.overlayOptions),d)),n.setMap(r),e.edit&&s()}function s(){if(e.type=="marker")return n.setDraggable(!0);r.plugin(["AMap."+t+"Editor"],function(){i=new window.AMap[t+"Editor"](r,n),i.open(),i.on("end",f)})}function f(d){o.emit("end",d)}function h(d){!e.type||(d?n?s():l():i&&i.close())}function c(d){if(m(),d){let A=d.split("");A[0]=A[0].toUpperCase(),t=A.join(""),l()}}function m(){n&&(r.remove(n),n=null),i&&(i.close(),i.off("end",f),i=null)}},render(){return()=>w("div",{class:"EditPlugin"},"EditPlugin")}};const C={Map:re,Marker:le,Liner:se,InfoWindow:ue,MouseTool:ce,PathSimplifierIns:de,MoveAnimation:fe,EditPlugin:me},pe=function(e){for(var o in C)e.component(o,C[o])};console.log(C,"modules");let j=P({version:"0.1.0",install:pe},C);console.log(j,"CVcomponents");const he=Q({history:X(),routes:[{path:"/",component:()=>_(()=>import("./readMe.089031ac.js"),["assets/readMe.089031ac.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.a3c58489.js"])},{path:"/:pathMatch(.*)",redirect:"/"},{path:"/home",component:()=>_(()=>import("./home.d54c9a30.js"),["assets/home.d54c9a30.js","assets/home.f8d052fe.css","assets/data.a8b57001.js","assets/vendor.a3c58489.js"])},{name:"multiCar",path:"/multiCar",component:()=>_(()=>import("./multiCar.31d34598.js"),["assets/multiCar.31d34598.js","assets/multiCar.f5186f44.css","assets/data.a8b57001.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.a3c58489.js"])},{name:"fenceManage",path:"/fenceManage",component:()=>_(()=>import("./fenceManage.d175156d.js"),["assets/fenceManage.d175156d.js","assets/fenceManage.a64f18a0.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.a3c58489.js"])},{name:"history",path:"/history",component:()=>_(()=>import("./history.8c029179.js"),["assets/history.8c029179.js","assets/history.90e77b8f.css","assets/data.a8b57001.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.a3c58489.js"])},{name:"history2",path:"/history2",component:()=>_(()=>import("./history2.5e5400b3.js"),["assets/history2.5e5400b3.js","assets/history2.a8093fe2.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.a3c58489.js"])}]});Y(oe).use(j).use(Z,{size:"small"}).use(he).mount("#app");
